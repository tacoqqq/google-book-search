(this["webpackJsonpbook-search"]=this["webpackJsonpbook-search"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),l=(a(13),a(1)),s=a(2),c=a(4),u=a(3),p=a(5),m=(a(14),a(15),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})),h=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"book"},r.a.createElement("h3",null,this.props.name),r.a.createElement("div",{className:"book-description"},r.a.createElement("div",{className:"book-image"},r.a.createElement("img",{src:this.props.image,alt:this.props.name})),r.a.createElement("div",{className:"book-details"},r.a.createElement("p",null,"Author: ",this.props.author),r.a.createElement("p",null,"Price: ",isNaN(this.props.price)?this.props.price:m.format(this.props.price)),r.a.createElement("p",{className:"book-details-description"},this.props.description))))}}]),t}(n.Component),b=(a(16),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.booklist.map((function(e,t){return r.a.createElement(h,{name:e.volumeInfo.title,author:e.volumeInfo.authors.join(", "),description:e.searchInfo?e.searchInfo.textSnippet:"No description available",link:e.selfLink,price:e.saleInfo.retailPrice?e.saleInfo.retailPrice.amount:e.saleInfo.saleability,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"https://upload.wikimedia.org/wikipedia/en/6/60/No_Picture.jpg",key:t})}));return r.a.createElement("section",null,e)}}]),t}(n.Component));b.defaultProps={booklist:[]};var f=b,y=(a(17),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={query:"",printtype:"none",booktype:"none",error:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"queryChanged",value:function(e){this.setState({query:e})}},{key:"printTypeChanged",value:function(e){this.setState({printtype:e})}},{key:"bookTypeChanged",value:function(e){this.setState({booktype:e})}},{key:"formatQuery",value:function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={key:"AIzaSyDvm_H1Snv3dZIIwLZKrMDzbHlShmBT0yg",q:this.state.query};"none"!==this.state.printtype&&(a.printType=this.state.printtype),"none"!==this.state.booktype&&(a.filter=this.state.booktype);var n=this.formatQuery(a),r="".concat("https://www.googleapis.com/books/v1/volumes","?").concat(n);console.log(r),fetch(r).then((function(e){if(!e.ok)throw new Error("Something went wrong. Please try again.");return e.json()})).then((function(e){console.log(e),t.setState({error:""}),t.props.handleSearch(e,t.state.error)})).catch((function(e){t.setState({error:e.message}),t.props.handleError(t.state.error)}))}},{key:"render",value:function(){var e=this;this.state.error&&r.a.createElement("div",null,this.state.error);return r.a.createElement("section",{className:"search-bar"},r.a.createElement("form",{className:"search-bar-form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"search-bar-first-row"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"search-query"},"Search:"),r.a.createElement("input",{required:!0,type:"text",id:"search-query",name:"search-query",value:this.state.query,onChange:function(t){return e.queryChanged(t.target.value)},placeholder:"book name"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Search"))),r.a.createElement("div",{className:"search-bar-second-row"},r.a.createElement("div",{className:"print-type-filter"},r.a.createElement("label",{htmlFor:"print-type"},"Print Type:"),r.a.createElement("select",{name:"print-type",id:"print-type",value:this.state.printtype,onChange:function(t){return e.printTypeChanged(t.target.value)}},r.a.createElement("optgroup",null,r.a.createElement("option",{value:"none"},"all"),r.a.createElement("option",{value:"partial"},"partial"),r.a.createElement("option",{value:"full"},"full"),r.a.createElement("option",{value:"free-ebooks"},"free-ebooks"),r.a.createElement("option",{value:"paid-ebooks"},"paid-ebooks"),r.a.createElement("option",{value:"ebooks"},"ebooks")))),r.a.createElement("div",{className:"book-type-filter"},r.a.createElement("label",{htmlFor:"book-type"},"Book Type:"),r.a.createElement("select",{name:"book-type",id:"book-type",value:this.state.booktype,onChange:function(t){return e.bookTypeChanged(t.target.value)}},r.a.createElement("optgroup",null,r.a.createElement("option",{value:"none"},"all"),r.a.createElement("option",{value:"books"},"books"),r.a.createElement("option",{value:"magazines"},"magazines")))))))}}]),t}(n.Component)),d=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={booklist:[],error:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleSearch",value:function(e,t){var a=e.items,n=t;this.setState({booklist:a,error:n})}},{key:"handleError",value:function(e){var t=e;this.setState({error:t})}},{key:"render",value:function(){var e=this,t=this.state.error.length?r.a.createElement("div",{className:"error-message"},"Oh oh! Sorry... no result is found! Try again maybe?"):r.a.createElement(f,{booklist:this.state.booklist});return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Google Book Search")),r.a.createElement(y,{handleSearch:function(t,a){return e.handleSearch(t,a)},handleError:function(t){return e.handleError(t)}}),t)}}]),t}(n.Component);i.a.render(r.a.createElement(d,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.d18b4418.chunk.js.map